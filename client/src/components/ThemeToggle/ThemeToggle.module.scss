@use "@/styles/themes" as *;

.toggle {
  --size: 34px;
  --pad: 3px;
  position: relative;
  width: calc(var(--size) * 2.05);
  height: var(--size);
  border: 1px solid token(border);
  border-radius: calc(var(--size) / 2);
  background: token(surface);
  color: token(text);
  display: inline-flex;
  align-items: center;
  padding: var(--pad);
  cursor: pointer;
  box-shadow: var(--shadow-1);
  transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;

  &:hover {
    background: token(surface-2);
  }

  .iconSun,
  .iconMoon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    color: token(text-muted);
    pointer-events: none;
    transition: opacity 0.2s ease;
  }
  .iconSun {
    left: calc(var(--pad) + 4px);
  }
  .iconMoon {
    right: calc(var(--pad) + 4px);
  }

  .knob {
    position: absolute;
    top: var(--pad);
    left: var(--pad);
    width: calc(var(--size) - var(--pad) * 2);
    height: calc(var(--size) - var(--pad) * 2);
    border-radius: 999px;
    background: token(primary);
    box-shadow: var(--shadow-1);
    transition: transform 0.25s cubic-bezier(0.2, 0.8, 0.2, 1),
      background 0.2s ease;
  }
}

:root[data-theme="light"] .toggle {
  .knob {
    transform: translateX(calc(100% + var(--pad)));
    background: token(accent);
  }
  .iconSun {
    opacity: 1;
  }
  .iconMoon {
    opacity: 0.35;
  }
}

:root:not([data-theme="light"]) .toggle {
  .iconSun {
    opacity: 0.35;
  }
  .iconMoon {
    opacity: 1;
  }
}
